{"ast":null,"code":"var _jsxFileName = \"/home/goutham/typescript-sample/src/components/Selection.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { planetsApi, VehiclesApi, GetTokenFromApi } from \"../actions/thunkActions\";\nimport { Select } from 'antd';\nimport { Radio } from 'antd';\nimport { Layout, Menu } from 'antd';\nimport \"./App.css\";\nconst {\n  Header,\n  Content,\n  Footer\n} = Layout;\nconst {\n  Option\n} = Select;\nconst radioStyle = {\n  display: 'block',\n  height: '30px',\n  lineHeight: '30px'\n};\n\nconst Selection = () => {\n  // const message = useSelector((state: State) => state.message);\n  // const id = useSelector((state: State) => state.id);\n  const allPlanets = useSelector(state => state.planet);\n  const allVehicles = useSelector(state => state.vehicle);\n  const dispatch = useDispatch();\n  const [selectedPlanets, setPlanets] = useState([]);\n  const [planetArray, setArray] = useState([]);\n  const [selectedVehicle, setVehicle] = useState([]);\n  const [vehicleArray, setVehicleArray] = useState([]);\n  useEffect(() => {\n    dispatch(GetTokenFromApi());\n    dispatch(planetsApi());\n    dispatch(VehiclesApi());\n  }, []); // const onClick = () => {\n  //   dispatch(actions.sampleAction2(id + 1));\n  //   dispatch(thunkSendMessage(\"hello\"));\n  // };\n\n  const onSelectPlanet = event => {\n    const selectedPlanet = event.currentTarget.value;\n    const planetDistance = allPlanets.filter(planet => planet.name === selectedPlanet);\n    console.log(\"planetDistance\", planetDistance);\n    const index = Number(event.currentTarget.id);\n    planetArray[index] = planetDistance[0];\n    setArray([...planetArray]);\n    const vehilceList = listVehiclesAt(index);\n    console.log(\"vehicleList::\", vehilceList);\n    console.log(\"PlanetArray\", planetArray, index, selectedPlanet);\n    selectedPlanets[index] = selectedPlanet;\n    setPlanets([...selectedPlanets]);\n    console.log(\"onSelectPlanet::\", selectedPlanets);\n    return vehilceList;\n  };\n\n  const listPlanetOptionsAt = currentIndex => {\n    const planetList = allPlanets.filter(planet => selectedPlanets[currentIndex] === planet.name || !selectedPlanets.includes(planet.name));\n    const list = planetList.map((data, index) => /*#__PURE__*/React.createElement(\"option\", {\n      value: data.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, data.name));\n    console.log(\"All Vehicles Array ::\", allVehicles);\n    console.log(\"showPlanets::\", planetList);\n    return list;\n  };\n\n  const listVehiclesAt = currentIndex => {\n    const distance = planetArray[currentIndex].distance; // const vehicleList = allVehicles.filter(\n    //   (vehicle) => vehicle.max_distance >= distance\n    // );\n\n    const vehicleOptions = allVehicles.map(vehicle => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Radio, {\n      style: radioStyle,\n      value: vehicle.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, vehicle.name, \"(\", vehicle.total_no, \")\")));\n    return vehicleOptions;\n  };\n\n  const vehicleOnChange = e => {\n    const optionSelected = e.target.value;\n    const currentIndex = Number(e.target.name);\n    const prevOption = selectedVehicle[currentIndex];\n    console.log(\"PreviousState\", prevOption);\n    selectedVehicle[currentIndex] = optionSelected;\n    setVehicle([...selectedVehicle]); // const indexOfVehicle=allVehicles.indexOf(optionSelected);\n\n    if (prevOption != optionSelected && prevOption != undefined) {\n      const indexOfVehicle = allVehicles.map(function (e) {\n        return e.name;\n      }).indexOf(prevOption);\n      allVehicles[indexOfVehicle].total_no = allVehicles[indexOfVehicle].total_no + 1;\n      const indexOfVehicle2 = allVehicles.map(function (e) {\n        return e.name;\n      }).indexOf(optionSelected);\n      allVehicles[indexOfVehicle2].total_no = allVehicles[indexOfVehicle2].total_no - 1;\n    } else {\n      const indexOfVehicle = allVehicles.map(function (e) {\n        return e.name;\n      }).indexOf(optionSelected);\n      allVehicles[indexOfVehicle].total_no = allVehicles[indexOfVehicle].total_no - 1;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App falcone-main-layout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Layout, {\n    className: \"layout \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Menu, {\n    theme: \"dark\",\n    mode: \"horizontal\",\n    defaultSelectedKeys: ['2'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Content, {\n    style: {\n      padding: '0 50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"site-layout-content falcone-row-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, \"Planet 1 :\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }, \"Select the planet \"), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"0\",\n    value: selectedPlanets[0],\n    onChange: onSelectPlanet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }), listPlanetOptionsAt(0)), /*#__PURE__*/React.createElement(Radio.Group, {\n    name: \"0\",\n    onChange: vehicleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, \" \", listVehiclesAt(0))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, \"Planet 1 :\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, \"Select the planet \"), /*#__PURE__*/React.createElement(\"select\", {\n    value: selectedPlanets[1],\n    id: \"1\",\n    onChange: onSelectPlanet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }), listPlanetOptionsAt(1)), /*#__PURE__*/React.createElement(Radio.Group, {\n    name: \"1\",\n    onChange: vehicleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }, \" \", listVehiclesAt(1))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, \"Planet 1 :\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  }, \"Select the planet \"), /*#__PURE__*/React.createElement(\"select\", {\n    value: selectedPlanets[2],\n    id: \"2\",\n    onChange: onSelectPlanet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }), listPlanetOptionsAt(2)), /*#__PURE__*/React.createElement(Radio.Group, {\n    name: \"2\",\n    onChange: vehicleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }, \" \", listVehiclesAt(2))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, \"Planet 1 :\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }, \"Select the planet \"), /*#__PURE__*/React.createElement(\"select\", {\n    value: selectedPlanets[3],\n    id: \"3\",\n    onChange: onSelectPlanet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 17\n    }\n  }), listPlanetOptionsAt(3)), /*#__PURE__*/React.createElement(Radio.Group, {\n    name: \"3\",\n    onChange: vehicleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 15\n    }\n  }, \" \", listVehiclesAt(3)))))), /*#__PURE__*/React.createElement(Footer, {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 5\n    }\n  }, \"Created for GeekTrust\"))));\n};\n\nexport default Selection;","map":{"version":3,"sources":["/home/goutham/typescript-sample/src/components/Selection.tsx"],"names":["React","useEffect","useState","useSelector","useDispatch","planetsApi","VehiclesApi","GetTokenFromApi","Select","Radio","Layout","Menu","Header","Content","Footer","Option","radioStyle","display","height","lineHeight","Selection","allPlanets","state","planet","allVehicles","vehicle","dispatch","selectedPlanets","setPlanets","planetArray","setArray","selectedVehicle","setVehicle","vehicleArray","setVehicleArray","onSelectPlanet","event","selectedPlanet","currentTarget","value","planetDistance","filter","name","console","log","index","Number","id","vehilceList","listVehiclesAt","listPlanetOptionsAt","currentIndex","planetList","includes","list","map","data","distance","vehicleOptions","total_no","vehicleOnChange","e","optionSelected","target","prevOption","undefined","indexOfVehicle","indexOf","indexOfVehicle2","padding","textAlign"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAAwD,OAAxD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAEEC,UAFF,EAGEC,WAHF,EAIEC,eAJF,QAKO,yBALP;AAMA,SAASC,MAAT,QAAuB,MAAvB;AACA,SAASC,KAAT,QAA6B,MAA7B;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAAyC,MAAzC;AAGA,OAAO,WAAP;AAMA,MAAM;AAAEC,EAAAA,MAAF;AAAUC,EAAAA,OAAV;AAAmBC,EAAAA;AAAnB,IAA8BJ,MAApC;AACA,MAAM;AAAEK,EAAAA;AAAF,IAAaP,MAAnB;AAEA,MAAMQ,UAAU,GAAG;AACjBC,EAAAA,OAAO,EAAE,OADQ;AAEjBC,EAAAA,MAAM,EAAE,MAFS;AAGjBC,EAAAA,UAAU,EAAE;AAHK,CAAnB;;AAKA,MAAMC,SAAS,GAAG,MAAM;AACtB;AACA;AACA,QAAMC,UAAU,GAAGlB,WAAW,CAAEmB,KAAD,IAAkBA,KAAK,CAACC,MAAzB,CAA9B;AACA,QAAMC,WAAW,GAAGrB,WAAW,CAAEmB,KAAD,IAAkBA,KAAK,CAACG,OAAzB,CAA/B;AACA,QAAMC,QAAQ,GAAGtB,WAAW,EAA5B;AAEA,QAAM,CAACuB,eAAD,EAAkBC,UAAlB,IAAgC1B,QAAQ,CAAgB,EAAhB,CAA9C;AACA,QAAM,CAAC2B,WAAD,EAAcC,QAAd,IAA0B5B,QAAQ,CAAW,EAAX,CAAxC;AACA,QAAM,CAAC6B,eAAD,EAAiBC,UAAjB,IAA+B9B,QAAQ,CAAiB,EAAjB,CAA7C;AACA,QAAM,CAAC+B,YAAD,EAAgBC,eAAhB,IAAmChC,QAAQ,CAAa,EAAb,CAAjD;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdyB,IAAAA,QAAQ,CAACnB,eAAe,EAAhB,CAAR;AACAmB,IAAAA,QAAQ,CAACrB,UAAU,EAAX,CAAR;AACAqB,IAAAA,QAAQ,CAACpB,WAAW,EAAZ,CAAR;AACD,GAJQ,EAIN,EAJM,CAAT,CAZsB,CAkBtB;AACA;AACA;AACA;;AACA,QAAM6B,cAAc,GAAIC,KAAD,IAAiD;AACtE,UAAMC,cAAc,GAAGD,KAAK,CAACE,aAAN,CAAoBC,KAA3C;AACA,UAAMC,cAAc,GAAGnB,UAAU,CAACoB,MAAX,CACpBlB,MAAD,IAAYA,MAAM,CAACmB,IAAP,KAAgBL,cADP,CAAvB;AAGAM,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BJ,cAA9B;AACA,UAAMK,KAAK,GAAGC,MAAM,CAACV,KAAK,CAACE,aAAN,CAAoBS,EAArB,CAApB;AACAlB,IAAAA,WAAW,CAACgB,KAAD,CAAX,GAAqBL,cAAc,CAAC,CAAD,CAAnC;AACAV,IAAAA,QAAQ,CAAC,CAAC,GAAGD,WAAJ,CAAD,CAAR;AACA,UAAMmB,WAAW,GAAEC,cAAc,CAACJ,KAAD,CAAjC;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BI,WAA5B;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2Bf,WAA3B,EAAwCgB,KAAxC,EAA+CR,cAA/C;AACAV,IAAAA,eAAe,CAACkB,KAAD,CAAf,GAAyBR,cAAzB;AACAT,IAAAA,UAAU,CAAC,CAAC,GAAGD,eAAJ,CAAD,CAAV;AACAgB,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCjB,eAAhC;AACA,WAAOqB,WAAP;AAED,GAjBD;;AAmBA,QAAME,mBAAmB,GAAIC,YAAD,IAA0B;AACpD,UAAMC,UAAU,GAAG/B,UAAU,CAACoB,MAAX,CAChBlB,MAAD,IACEI,eAAe,CAACwB,YAAD,CAAf,KAAkC5B,MAAM,CAACmB,IAAzC,IACA,CAACf,eAAe,CAAC0B,QAAhB,CAAyB9B,MAAM,CAACmB,IAAhC,CAHc,CAAnB;AAKA,UAAMY,IAAI,GAAGF,UAAU,CAACG,GAAX,CAAe,CAACC,IAAD,EAAOX,KAAP,kBAC1B;AAAQ,MAAA,KAAK,EAAEW,IAAI,CAACd,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2Bc,IAAI,CAACd,IAAhC,CADW,CAAb;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAoCpB,WAApC;AAEAmB,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BQ,UAA7B;AACA,WAAOE,IAAP;AAGD,GAfD;;AAiBA,QAAML,cAAc,GAAIE,YAAD,IAA0B;AAC/C,UAAMM,QAAgB,GAAG5B,WAAW,CAACsB,YAAD,CAAX,CAA0BM,QAAnD,CAD+C,CAG/C;AACA;AACA;;AACA,UAAMC,cAAc,GAAGlC,WAAW,CAAC+B,GAAZ,CAAiB9B,OAAD,iBACrC,uDACE,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAET,UAAd;AAA0B,MAAA,KAAK,EAAES,OAAO,CAACiB,IAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgDjB,OAAO,CAACiB,IAAxD,OAA+DjB,OAAO,CAACkC,QAAvE,MADF,CADqB,CAAvB;AAOA,WAAOD,cAAP;AACD,GAdD;;AAkBA,QAAME,eAAe,GAAGC,CAAD,IAAwB;AAC7C,UAAMC,cAAc,GAAED,CAAC,CAACE,MAAF,CAASxB,KAA/B;AACA,UAAMY,YAAY,GAAEL,MAAM,CAACe,CAAC,CAACE,MAAF,CAASrB,IAAV,CAA1B;AACA,UAAMsB,UAAU,GAAEjC,eAAe,CAACoB,YAAD,CAAjC;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BoB,UAA5B;AACAjC,IAAAA,eAAe,CAACoB,YAAD,CAAf,GAA8BW,cAA9B;AACA9B,IAAAA,UAAU,CAAC,CAAC,GAAGD,eAAJ,CAAD,CAAV,CAN6C,CAO7C;;AACA,QAAGiC,UAAU,IAAIF,cAAd,IAAgCE,UAAU,IAAGC,SAAhD,EAA2D;AACzD,YAAMC,cAAc,GAAG1C,WAAW,CAAC+B,GAAZ,CAAgB,UAASM,CAAT,EAAY;AAAE,eAAOA,CAAC,CAACnB,IAAT;AAAgB,OAA9C,EAAgDyB,OAAhD,CAAwDH,UAAxD,CAAvB;AACAxC,MAAAA,WAAW,CAAC0C,cAAD,CAAX,CAA4BP,QAA5B,GAAqCnC,WAAW,CAAC0C,cAAD,CAAX,CAA4BP,QAA5B,GAAqC,CAA1E;AACA,YAAMS,eAAe,GAAG5C,WAAW,CAAC+B,GAAZ,CAAgB,UAASM,CAAT,EAAY;AAAE,eAAOA,CAAC,CAACnB,IAAT;AAAgB,OAA9C,EAAgDyB,OAAhD,CAAwDL,cAAxD,CAAxB;AACAtC,MAAAA,WAAW,CAAC4C,eAAD,CAAX,CAA6BT,QAA7B,GAAsCnC,WAAW,CAAC4C,eAAD,CAAX,CAA6BT,QAA7B,GAAsC,CAA5E;AACD,KALD,MAMK;AACH,YAAMO,cAAc,GAAG1C,WAAW,CAAC+B,GAAZ,CAAgB,UAASM,CAAT,EAAY;AAAE,eAAOA,CAAC,CAACnB,IAAT;AAAgB,OAA9C,EAAgDyB,OAAhD,CAAwDL,cAAxD,CAAvB;AACAtC,MAAAA,WAAW,CAAC0C,cAAD,CAAX,CAA4BP,QAA5B,GAAqCnC,WAAW,CAAC0C,cAAD,CAAX,CAA4BP,QAA5B,GAAqC,CAA1E;AACD;AAIF,GArBD;;AAsBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACF,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,YAAxB;AAAqC,IAAA,mBAAmB,EAAE,CAAC,GAAD,CAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADE,eAMF,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAE;AAAEU,MAAAA,OAAO,EAAE;AAAX,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACM;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF,eAGE;AACE,IAAA,EAAE,EAAC,GADL;AAEE,IAAA,KAAK,EAAE1C,eAAe,CAAC,CAAD,CAFxB;AAGE,IAAA,QAAQ,EAAEQ,cAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAOGe,mBAAmB,CAAC,CAAD,CAPtB,CAHF,eAYE,oBAAC,KAAD,CAAO,KAAP;AAAc,IAAA,IAAI,EAAC,GAAnB;AAAuB,IAAA,QAAQ,EAAEU,eAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAqDX,cAAc,CAAC,CAAD,CAAnE,CAZF,CADN,eAuBM;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFA,eAGE;AACE,IAAA,KAAK,EAAEtB,eAAe,CAAC,CAAD,CADxB;AAEE,IAAA,EAAE,EAAC,GAFL;AAGE,IAAA,QAAQ,EAAEQ,cAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAMGe,mBAAmB,CAAC,CAAD,CANtB,CAHF,eAWE,oBAAC,KAAD,CAAO,KAAP;AAAc,IAAA,IAAI,EAAC,GAAnB;AAAuB,IAAA,QAAQ,EAAEU,eAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAqDX,cAAc,CAAC,CAAD,CAAnE,CAXF,CAvBN,eA0CM;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ,eAGE;AACE,IAAA,KAAK,EAAEtB,eAAe,CAAC,CAAD,CADxB;AAEE,IAAA,EAAE,EAAC,GAFL;AAGE,IAAA,QAAQ,EAAEQ,cAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAMGe,mBAAmB,CAAC,CAAD,CANtB,CAHF,eAWE,oBAAC,KAAD,CAAO,KAAP;AAAc,IAAA,IAAI,EAAC,GAAnB;AAAuB,IAAA,QAAQ,EAAEU,eAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAqDX,cAAc,CAAC,CAAD,CAAnE,CAXF,CA1CN,eA6DM;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFA,eAGE;AACE,IAAA,KAAK,EAAEtB,eAAe,CAAC,CAAD,CADxB;AAEE,IAAA,EAAE,EAAC,GAFL;AAGE,IAAA,QAAQ,EAAEQ,cAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAMGe,mBAAmB,CAAC,CAAD,CANtB,CAHF,eAWE,oBAAC,KAAD,CAAO,KAAP;AAAc,IAAA,IAAI,EAAC,GAAnB;AAAuB,IAAA,QAAQ,EAAEU,eAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAqDX,cAAc,CAAC,CAAD,CAAnE,CAXF,CA7DN,CADA,CADF,CANE,eA2FF,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE;AAAEqB,MAAAA,SAAS,EAAE;AAAb,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BA3FE,CADA,CADF,CADF;AAmGD,CArMD;;AAsMA,eAAelD,SAAf","sourcesContent":["import React, { useEffect, useState, ChangeEvent } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  thunkSendMessage,\n  planetsApi,\n  VehiclesApi,\n  GetTokenFromApi,\n} from \"../actions/thunkActions\";\nimport { Select } from 'antd';\nimport { Radio , Input} from 'antd';\nimport { Layout, Menu, Breadcrumb } from 'antd';\n\nimport logo from \"../logo.svg\";\nimport \"./App.css\";\nimport { State } from \"../reducers\";\nimport { Planet, Vehicle } from \"../types/types\";\nimport { RadioChangeEvent } from \"antd/lib/radio/interface\";\n\n\nconst { Header, Content, Footer } = Layout\nconst { Option } = Select;\n\nconst radioStyle = {\n  display: 'block',\n  height: '30px',\n  lineHeight: '30px',\n};\nconst Selection = () => {\n  // const message = useSelector((state: State) => state.message);\n  // const id = useSelector((state: State) => state.id);\n  const allPlanets = useSelector((state: State) => state.planet);\n  const allVehicles = useSelector((state: State) => state.vehicle);\n  const dispatch = useDispatch();\n\n  const [selectedPlanets, setPlanets] = useState<Array<string>>([]);\n  const [planetArray, setArray] = useState<Planet[]>([]);\n  const [selectedVehicle,setVehicle] = useState <Array<string>>([]);\n  const [vehicleArray , setVehicleArray] = useState <Vehicle[]>([]);\n\n  useEffect(() => {\n    dispatch(GetTokenFromApi());\n    dispatch(planetsApi());\n    dispatch(VehiclesApi());\n  }, []);\n\n  // const onClick = () => {\n  //   dispatch(actions.sampleAction2(id + 1));\n  //   dispatch(thunkSendMessage(\"hello\"));\n  // };\n  const onSelectPlanet = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const selectedPlanet = event.currentTarget.value;\n    const planetDistance = allPlanets.filter(\n      (planet) => planet.name === selectedPlanet\n    );\n    console.log(\"planetDistance\", planetDistance);\n    const index = Number(event.currentTarget.id);\n    planetArray[index] = planetDistance[0];\n    setArray([...planetArray]);\n    const vehilceList =listVehiclesAt(index);\n    console.log(\"vehicleList::\",vehilceList);\n    console.log(\"PlanetArray\", planetArray, index, selectedPlanet);\n    selectedPlanets[index] = selectedPlanet;\n    setPlanets([...selectedPlanets]);\n    console.log(\"onSelectPlanet::\", selectedPlanets);\n    return vehilceList;\n\n  };\n\n  const listPlanetOptionsAt = (currentIndex: number) => {\n    const planetList = allPlanets.filter(\n      (planet) =>\n        selectedPlanets[currentIndex] === planet.name ||\n        !selectedPlanets.includes(planet.name)\n    );\n    const list = planetList.map((data, index) => (\n      <option value={data.name}>{data.name}</option>\n    ));\n    console.log(\"All Vehicles Array ::\",allVehicles);\n\n    console.log(\"showPlanets::\", planetList);\n    return list;\n    \n    \n  };\n\n  const listVehiclesAt = (currentIndex: number) => {\n    const distance: number = planetArray[currentIndex].distance ;\n    \n    // const vehicleList = allVehicles.filter(\n    //   (vehicle) => vehicle.max_distance >= distance\n    // );\n    const vehicleOptions = allVehicles.map((vehicle) => (\n      <>\n        <Radio style={radioStyle} value={vehicle.name}>{vehicle.name}({vehicle.total_no})\n          {/* {vehicle.name}({selectedVehicle.includes(vehicle.name) ? vehicle.total_no-1 : vehicle.total_no}) */}\n        </Radio>\n      </>\n    ));\n    return vehicleOptions;\n  };\n\n\n\n  const vehicleOnChange =(e:RadioChangeEvent) => {\n    const optionSelected= e.target.value;\n    const currentIndex= Number(e.target.name);\n    const prevOption =selectedVehicle[currentIndex];\n    console.log(\"PreviousState\",prevOption);\n    selectedVehicle[currentIndex]=optionSelected;\n    setVehicle([...selectedVehicle]);\n    // const indexOfVehicle=allVehicles.indexOf(optionSelected);\n    if(prevOption != optionSelected && prevOption !=undefined) {\n      const indexOfVehicle = allVehicles.map(function(e) { return e.name; }).indexOf(prevOption);\n      allVehicles[indexOfVehicle].total_no=allVehicles[indexOfVehicle].total_no+1;\n      const indexOfVehicle2 = allVehicles.map(function(e) { return e.name; }).indexOf(optionSelected);\n      allVehicles[indexOfVehicle2].total_no=allVehicles[indexOfVehicle2].total_no-1;\n    }\n    else {\n      const indexOfVehicle = allVehicles.map(function(e) { return e.name; }).indexOf(optionSelected);\n      allVehicles[indexOfVehicle].total_no=allVehicles[indexOfVehicle].total_no-1;\n    }\n\n    \n\n  }\n  return (\n    <div>\n      <div className='App falcone-main-layout'>\n      <Layout className=\"layout \">\n    <Header>\n      <div className=\"logo\" />\n      <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\n      </Menu>\n    </Header>\n    <Content style={{ padding: '0 50px' }}>\n      <div className=\"site-layout-content falcone-row-primary\">\n      <div className='row'>\n            <div className='col'>\n              <h5>Planet 1 :</h5>\n              <h6>Select the planet </h6>\n              <select\n                id='0'\n                value={selectedPlanets[0]}\n                onChange={onSelectPlanet}\n              >\n                <option></option>\n\n                {listPlanetOptionsAt(0)}\n              </select>\n              <Radio.Group  name=\"0\" onChange={vehicleOnChange} > {listVehiclesAt(0)}\n                  </Radio.Group>\n              {/* {\n                    selectedPlanets[0] === undefined ? \"\" :\n                     <Radio.Group  name=\"0\" onChange={vehicleOnChange} > {listVehiclesAt(0)}\n                  </Radio.Group>\n                }\n                 */}\n              \n            </div>\n            <div className='col'>\n            <h5>Planet 1 :</h5>\n            <h6>Select the planet </h6>\n              <select\n                value={selectedPlanets[1]}\n                id='1'\n                onChange={onSelectPlanet}\n              >\n                <option></option>\n                {listPlanetOptionsAt(1)}\n              </select>\n              <Radio.Group  name=\"1\" onChange={vehicleOnChange} > {listVehiclesAt(1)}\n                 </Radio.Group>\n              {/* {\n                    selectedPlanets[1] === undefined ? \"\" :\n                    <Radio.Group  name=\"1\" onChange={vehicleOnChange} > {listVehiclesAt(1)}\n                 </Radio.Group>\n                } */}\n            </div>\n            <div className='col'>\n            <h5>Planet 1 :</h5>\n                <h6>Select the planet </h6>\n              <select\n                value={selectedPlanets[2]}\n                id='2'\n                onChange={onSelectPlanet}\n              >\n                <option></option>\n                {listPlanetOptionsAt(2)}\n              </select>\n              <Radio.Group  name=\"2\" onChange={vehicleOnChange} > {listVehiclesAt(2)}\n                 </Radio.Group>\n              {/* {\n                    selectedPlanets[2] === undefined ? \"\" :\n                    <Radio.Group  name=\"2\" onChange={vehicleOnChange} > {listVehiclesAt(2)}\n                 </Radio.Group>\n                } */}\n            </div>\n            <div className='col'>\n            <h5>Planet 1 :</h5>\n            <h6>Select the planet </h6>\n              <select\n                value={selectedPlanets[3]}\n                id='3'\n                onChange={onSelectPlanet}\n              >\n                <option></option>\n                {listPlanetOptionsAt(3)}\n              </select>\n              <Radio.Group  name=\"3\" onChange={vehicleOnChange} > {listVehiclesAt(3)}\n                 </Radio.Group>\n              {/* {\n                    selectedPlanets[3] === undefined ? \"\" :\n                    <Radio.Group  name=\"3\" onChange={vehicleOnChange} > {listVehiclesAt(3)}\n                 </Radio.Group>\n                } */}\n            </div>\n          </div>\n        </div>\n    </Content>\n    <Footer style={{ textAlign: 'center' }}>Created for GeekTrust</Footer>\n  </Layout>\n      </div>\n    </div>\n  );\n};\nexport default Selection;\n\n"]},"metadata":{},"sourceType":"module"}